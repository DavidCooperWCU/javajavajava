<section xml:id="finding-things-withina-string">
  <title>Finding Things Within a String</title>
  <p>
    Programmers often have to find the location of a particular character or substring in a string.
    For example,
    user names and passwords are sometimes stored in a single string in which the name and password are separated from each other by a special character,
    such as a colon (<c>username:password</c>).
    In order to get the name or password from such a string,
    it is convenient to have methods that will search the string and report the index of the colon character.
  </p>
  <p>
    The <c>indexOf()</c> and <c>lastIndexOf()</c> methods
        <idx><h>lastIndexOf() method</h></idx>
    are instance methods that can be used to find the index position of a character or a substring within a
<c>String</c>. There are several versions of each:
  </p>
<pre>
public int indexOf(int character);
public int indexOf(int character, int startingIndex);
public int indexOf(String string);
public int indexOf(String string, int startingIndex);
public int lastIndexOf(int character);
public int lastIndexOf(int character, int startingIndex);
public int lastIndexOf(String string);
public int lastIndexOf(String string, int startingIndex);
</pre>
  <p>
    The <c>indexOf()</c> method searches from left to right within a <c>String</c> for either a character or a substring.
    The
<c>lastIndexOf()</c> method searches from right to left for a character or substring.
    To illustrate,
    suppose we have declared the following
<c>String</c> s:
  </p>
<pre>
String string1 = "";
String string2 = "Hello";
String string3 = "World";
String string4 = string2 + " " + string3;
</pre>
  <p>
    Recalling that <c>String</c> s are indexed starting at 0, searching for <em>o</em>
    in the various strings gives the following results:
  </p>
  <p>
    \[27pc]
  </p>
<pre>
string1.indexOf('o') ==> -1  string1.lastIndexOf('o') ==> -1
string2.indexOf('o') ==>  4  string2.lastIndexOf('o') ==>  4
string3.indexOf('o') ==>  1  string3.lastIndexOf('o') ==>  1
string4.indexOf('o') ==>  4  string4.lastIndexOf('o') ==>  7
</pre>
  <p>
    Because <c>string1</c> is the empty string, ``'', it does not \marginpar{Sentinel return value} contain the letter <em>o</em>.
    Therefore, <c>indexOf()</c> returns <m>-1</m>,
    a value that cannot be a valid index for a <c>String</c>. This convention is followed in <c>indexOf()</c> and <c>lastIndexOf()</c>. Because
<c>string2</c> and <c>string3</c> each contain only one occurrence of the letter <em>o</em>,
    both <c>indexOf()</c> and <c>lastIndexOf()</c> return the same value when used on these <c>String</c> s.
    Because <c>string4</c> contains two occurrences of
    <em>o</em>, <c>indexOf()</c> and
<c>lastIndexOf()</c> return different values in this case.
    <image width="73%" source="7f6.eps"/> As <xref ref="fig-helloindex">Figure</xref>
    shows, the first <em>o</em> in
    <q>Hello, World!</q>
    occurs at index 4, the value returned by <c>indexOf()</c>. The second <em>o</em>
    occurs at index 7, which is the value returned by
<c>lastIndexOf()</c>.
  </p>
  <p>
    By default, the single-parameter versions of <c>indexOf()</c> and
<c>lastIndexOf()</c> start their searches at their respective
    (left or right)
    ends of the string.
    The two-parameter versions of these methods allow you to specify both the direction and starting point of the search.
    The second parameter specifies the starting index.
    Consider these examples:
  </p>
<pre>
string4.indexOf('o', 5)     ==> 7
string4.lastIndexOf('o', 5) ==> 4
</pre>
  <p>
    If we start searching in both cases at index 5, then
<c>indexOf()</c> will miss the
    <em>o</em> that occurs at index 4.
    The first <em>o</em> it finds will be the one at index 7.
    Similarly,
<c>lastIndexOf()</c> will miss the <em>o</em>
    that occurs at index 7 and will find the
    <em>o</em> that occurs at index 4.
  </p>
  <p>
    The <c>indexOf()</c> and <c>lastIndexOf()</c> methods can also be used to find substrings:
  </p>
<pre>
string1.indexOf("or") ==> -1  string1.lastIndexOf("or") ==> -1
string2.indexOf("or") ==> -1  string2.lastIndexOf("or") ==> -1
string3.indexOf("or") ==>  1  string3.lastIndexOf("or") ==>  1
string4.indexOf("or") ==>  7  string4.lastIndexOf("or") ==>  7
</pre>
  <p>
    The substring
    <q>or</q>
    does not occur in either
<c>string1</c> or <c>string2</c>. It does occur beginning at location 1 in <c>string3</c> and beginning at location 7 in <c>string4</c>. For this collection of examples,
    it doesn't matter whether we search from left to right or right to left.
  </p>
  <p>
    \secEXRHone{Self-Study Exercises}
  </p>
  <ol>
    <li>
      <p>
        Suppose the <c>String</c> variable <c>s</c> has been initialized to
        <q>mom.</q>
        Evaluate each of the following expressions:
      </p>
      <ol>
        <li>
          <p>
            <c>s.indexOf("m");</c>
          </p>
        </li>
        <li>
          <p>
            <c>s.indexOf("o");</c>
          </p>
        </li>
        <li>
          <p>
            <c>s.indexOf("M");</c>
          </p>
        </li>
      </ol>
    </li>
    <li>
      <p>
        Evaluate the expressions given the <c>String</c> declaration
<c>String s1 = "Java, Java, Java";</c>
        <ol>
          \columnsep=0pt \scriptsize
          <li>
            <p>
              <c>s1.length()</c>
            </p>
          </li>
          <li>
            <p>
              <c>String.valueOf(s1.length())</c>
            </p>
          </li>
          <li>
            <p>
              <c>s1.indexOf('a')</c>
            </p>
          </li>
          <li>
            <p>
              <c>s1.lastIndexOf('a')</c>
            </p>
          </li>
          <li>
            <p>
              <c>s1.indexOf("av")</c>
            </p>
          </li>
          <li>
            <p>
              <c>s1.lastIndexOf("av")</c>
            </p>
          </li>
          <li>
            <p>
              <c>s1.indexOf('a', 5)</c>
            </p>
          </li>
          <li>
            <p>
              <c>s1.lastIndexOf('a', 5)</c>
            </p>
          </li>
          <li>
            <p>
              <c>s1.indexOf("av", s1.length() - 10)</c>
            </p>
          </li>
          <li>
            <p>
              <c>s1.lastIndexOf("av",</c>
<c>s1.length() - 4)</c>
            </p>
          </li>
          <li>
            <p>
              <c>s1.indexOf("a", s1.indexOf("va"))</c>
            </p>
          </li>
        </ol>
      </p>
    </li>
    <li>
      <p>
        Evaluate the following expression:
<pre>
String tricky = "abcdefg01234567";
  tricky.indexOf(String.valueOf( tricky.indexOf("c")));
</pre>
      </p>
    </li>
  </ol>
</section>